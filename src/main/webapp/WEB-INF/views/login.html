<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <link rel="stylesheet" href="/assets/bootstrap/v5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/fontawesome/v5.15.4/css/all.min.css">
    <link rel="stylesheet" href="/assets/sweetalert2/sweetalert2.min.css">
</head>
<body>
    <div class="container">
        <div class="content">
            <form action="">
                <div class="row">
                    <label for="username">Username</label>
                    <input type="text" class="form-control" id="username" placeholder="Username...">
                </div>
                <div class="row">
                    <label for="password">Password</label>
                    <input type="text" class="form-control" id="password" placeholder="Password...">
                </div>
            </form>
            <div class="row">
                <div class="col-lg-6">
                    <button class="btn btn-outline-primary" id="btnLogin">
                        Login
                    </button>
                </div>
            </div>
        </div>
    </div>


    <script src="/assets/jquery/jquery-v3.6.0.min.js"></script>
    <script src="/assets/jquery/jquery.validate.min.js"></script>
    <script src="/assets/bootstrap/v5.3.0/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/sweetalert2/sweetalert2.all.min.js"></script>
    <script src="/assets/js/appbase.js"></script>

    <script>

        $("#btnLogin").on("click", () => {
            let username = $("#username").val();
            let password = $("#password").val();

            let user = {
                username,
                password
            }

            $.ajax({
                headers: {
                    "accept": "application/json",
                    "content-type": "application/json"
                },
                type: "POST",
                url: "http://localhost:9000/api/auth/login",
                data: JSON.stringify(user)
            })
                .done((data) => {
                    location.href = "/customers";
                })
                .fail((jqXHR) => {
                    console.log(jqXHR);
                })
        })


    </script>
</body>
</html>